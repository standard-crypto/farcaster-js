#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

yarn workspaces foreach --all run clean

# recreate generated files
yarn workspaces foreach --all run generate
git add ':(glob)**/generated/**'

# typecheck
yarn type:check

# lint (includes prettier)
yarn lint:check

yarn spell:check

# generated docs
yarn workspaces foreach --all run docs;
git add ':(glob)**/README.md' ':(glob)**/docs/**'
